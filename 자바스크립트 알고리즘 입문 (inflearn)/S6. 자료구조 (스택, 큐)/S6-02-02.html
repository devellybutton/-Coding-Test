<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>괄호문자 제거</title>
</head>
<body>
    <script>
        // 만약 여는 괄호와 닫는 괄호의 개수가 비대칭인 경우
        // 닫는 괄호가 더 많아야 됨.

        function solution(str) {
            // 스택을 생성한다 
            const stack = [];
        
            for (let char of str) {
                // 스택에 모든 원소를 넣어준다
                stack.push(char)

                // 스택의 마지막 원소가 닫는 괄호일 경우
                // 여는 괄호가 나올 때까지 전부 빼준다
                // 그런데 스택에 여는 괄호가 없다면 실행하지 않는다
                if (stack[stack.length-1] === ')') {
                    while (stack.pop() !== '(')
                        if (!stack.includes('(')) {
                            break;
                        }
                }

            }
            return stack.join('');
            }

            let str1 = "(A(BC)D)EF(G(H)(IJ)K)LM(N)"  // 괄호 쌍이 맞는 경우
            console.log(solution(str1));  // EFLM
            
            let str2 = "((CAKE)F(CK))BA()(ABC))"  // 괄호 쌍이 안 맞는 경우
            console.log(solution(str2));  // BA
            
            let str3 = "((KBC(O)D))Y(L(V)IJ)(KB)VK(N)" // 괄호 쌍이 맞는 경우
            console.log(solution(str3));  // YVK

            let str4 = "((OX((Q)(CAKE)F(CK))BA()N(ABC))"  // 괄호 쌍이 안 맞는 경우
            console.log(solution(str4));  // BAN
    </script>
</body>
</html>